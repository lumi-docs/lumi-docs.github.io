<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NAS cleanup proposal - Draft 1 | Documentation</title>
    <meta name="description" content="Welcome to Lumidigm&#39;s (part of HID Global Corporation) official documentation page.">
    
    
    <link rel="preload" href="/assets/css/0.styles.382af5d5.css" as="style"><link rel="preload" href="/assets/js/app.12f85102.js" as="script"><link rel="preload" href="/assets/js/7.64d93997.js" as="script"><link rel="prefetch" href="/assets/js/10.a876fc82.js"><link rel="prefetch" href="/assets/js/2.d8f505d4.js"><link rel="prefetch" href="/assets/js/3.f839fb6e.js"><link rel="prefetch" href="/assets/js/4.8fd39531.js"><link rel="prefetch" href="/assets/js/5.b76c76d5.js"><link rel="prefetch" href="/assets/js/6.fd7790cd.js"><link rel="prefetch" href="/assets/js/8.e4e54e17.js"><link rel="prefetch" href="/assets/js/9.28e064bf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.382af5d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentation</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">Docs</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">Docs</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Google Cloud Platform</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>M Series Data</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Info</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/docs/info/nas_cleanup_proposal/" class="active sidebar-link">NAS cleanup proposal - Draft 1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/info/nas_cleanup_proposal/#folder-structure" class="sidebar-link">Folder structure</a></li><li class="sidebar-sub-header"><a href="/docs/info/nas_cleanup_proposal/#filing-rules" class="sidebar-link">Filing rules</a></li><li class="sidebar-sub-header"><a href="/docs/info/nas_cleanup_proposal/#best-practices" class="sidebar-link">Best practices</a></li><li class="sidebar-sub-header"><a href="/docs/info/nas_cleanup_proposal/#implementation-phase-1" class="sidebar-link">Implementation phase 1</a></li><li class="sidebar-sub-header"><a href="/docs/info/nas_cleanup_proposal/#implementation-phase-2" class="sidebar-link">Implementation phase 2</a></li><li class="sidebar-sub-header"><a href="/docs/info/nas_cleanup_proposal/#implementation-phase-3" class="sidebar-link">Implementation phase 3</a></li><li class="sidebar-sub-header"><a href="/docs/info/nas_cleanup_proposal/#data-management-protocol" class="sidebar-link">Data management protocol</a></li></ul></li><li><a href="/docs/info/nas_cleanup_proposal_draft_2/" class="sidebar-link">Data Management Protocol and NAS cleanup- Proposal- Draft 2</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="nas-cleanup-proposal-draft-1"><a href="#nas-cleanup-proposal-draft-1" aria-hidden="true" class="header-anchor">#</a> NAS cleanup proposal - Draft 1</h1> <p>We are facing certain issues with data management on shared drives. These are:</p> <ol><li><strong>Duplicates</strong></li> <li><strong>Old unused data</strong></li> <li><strong>Difficulty locating data/code or figuring out it's properties/purpose, on our own</strong></li> <li><strong>Unknown author of code and owner of datasets</strong></li></ol> <p>Another issue I have noticed specific to <strong>W: drive</strong> is it's <strong>slow response time</strong>. This might be a sign of straining the drive due to continous network traffic.</p> <p>This document proposes a plan to clean a NAS, organize it's contents, and avoid the current issues in the future. The plan has three components: <strong>(1)</strong> a <a href="#folder-structure">folder structure</a>, <strong>(2)</strong> a simple set of <a href="#filing-rules">filing rules</a> and <strong>(3)</strong> some <a href="#best-practices">best practices</a>.</p> <p>The implementation of the plan is divided into <a href="#implementation-phase-1">phase 1</a>, <a href="#implementation-phase-2">phase 2</a> and <a href="#implementation-phase-3">phase 3</a>.</p> <p>This is followed by a <a href="#implementation-phase-1">data management protocol</a> table summarizing the plan.</p> <h2 id="folder-structure"><a href="#folder-structure" aria-hidden="true" class="header-anchor">#</a> Folder structure</h2> <p>The Template:</p> <div class="language- extra-class"><pre class="language-text"><code>W:/
├── data/ 
│   └── &lt;data_category&gt;/
│       └── &lt;dataset_name&gt;/
│           └── &lt;files in your dataset&gt;
└── projects/
    └── &lt;project_name&gt;/
        └── &lt;contributor_name&gt;/
            └── &lt;contributor's code files&gt;

</code></pre></div><p>An Example:</p> <div class="language- extra-class"><pre class="language-text"><code>W:/
├── data/ 
│   ├── facial/
│   │   ├── ijb/
│   │   │   ├── ijb_compressed.tar
│   │   │   └── instructions.txt
│   │   └── vggface_2/
│   │       ├── thumnails_for_facial_recognition/
│   │       ├── train.tar.gz
│   │       ├── test.tar.gz
│   │       └── instructions.txt
│   └── fingerprint/
└── projects/
    ├── facial_recognition/
    │   ├── bob/
    │   │   ├── tools/
    │   │   ├── train.py
    │   │   └── instructions.txt
    │   └── alice/
    │       ├── data_pineline.py
    │       └── instructions.txt
    └── facial_detection/

</code></pre></div><p>Below are the features of this folder structure. (We don't need to learn these)</p> <ol><li><p><strong>Seperate folders for data and projects</strong>: Separating data from code lets us have a unique internal folder structure for each. This is necessary because we handle them differently. For example, majority of the updates made to a dataset are creation and deletion of files, while most updates made to a project are updates to individual scripts. Furthermore, doing this separation allows us to have a many to many relationship between datasets and projects. This means, one or many datasets can be used in one or many projects. Also, we can use different archiving criteria for datasets and projects: a project can be archived when it is completed and a dataset can be archived when it isn't used for a certain amount of time. Folders named <strong>archive_data/</strong> and <strong>archive_projects/</strong> can be created at the same level in the tree as <strong>data/</strong> and <strong>projects/</strong> folder when needed.</p></li> <li><p><strong>Data category</strong>: The data_category helps organize datasets and locate them quickly.</p></li> <li><p><strong>Project folders</strong>: Once a project is completed, the entire project folder can be moved to archive.</p></li> <li><p><strong>Contributors in a project</strong>: Organizing code by contributors helps maintain ownership. When files don't have owners (orphan files) and a clutter is formed, nobody wants to delete unfamiliar or forgotten files fearing that it might belong to somebody else. Having ownership will ensure that contributors create files in their own folders and keep their folders clean.</p></li> <li><p><strong>Personal workspace</strong>: Follow the same folder structure for your personal workspace on your local machine. Only keep the current projects you are working on. You may keep a copy of the code of other contributor's folders as well if you need them. Here is an example:</p> <div class="language- extra-class"><pre class="language-text"><code>├── workspace/
    ├── facial_recognition/
    │   ├── bob/ (you)
    │   │   ├── tools/
    │   │   └── train.py
    │   └── alice/ (other contributor)(optional)
    │       └── data_pineline.py
    └── facial_detection/
</code></pre></div></li></ol> <h2 id="filing-rules"><a href="#filing-rules" aria-hidden="true" class="header-anchor">#</a> Filing rules</h2> <p>These are the practices vital to avoid the current issues we are facing. These points are also summarized in a <a href="#data-management-protocol">table</a> below which can be printed and used as a guide for filing.</p> <ol><li><p><strong>Naming convention</strong>: For naming any files or folders, only use <strong>small letter</strong>, <strong>numbers</strong> and <strong>underscores</strong> and seperate letter and numbers with <strong>underscores</strong> as well. Without a convention, we can name the same data, many diffrent ways. For example, the folder <strong>Facial recognition dataset V-1.2</strong> can also be written as <strong>facial recognition dataset v 1.2</strong> or <strong>Facial Recognition Dataset V-1.20</strong>. This promotes duplicates. Using the convention, it can only be named <strong>facial_recognition_dataset_V_1_2</strong>.</p></li> <li><p><strong>Instructions</strong>: <strong>ALWAYS</strong> add an instructions file in all the folders you create. This file will contain <strong>concise</strong> instructions for all the files and folders in that folder that other users my need to know about. Every time you make a chance to the contents of a folder, see if you need to update it's instructions file. If the folder contains lots of scripts, instructions file should contain a short description of what these files are used for and how to use them. This information and the comments inside the code should be adequate for anybody to make use of the code. If the folder contains a saved model, then the instructions file should contain a few lines about the model, so that anybody can use it. Use text, word or markdown files (whichever you think suits better for that folder) for the instructions file. Using the file explorer's preview window, the instructions file can be viewed whenever someone enters a folder. Preview window can be enabled in <strong>Windows 10</strong> by following these steps: (1) open a <strong>Windows Explorer</strong> window, (2) click on the <strong>View</strong> button at the top left and (3) click on the <strong>Preview pane</strong> button under <strong>Panes</strong>. Click on any file in the explorer and its preview will appear in the preview pane. For <strong>Mac</strong> and <strong>Ubuntu</strong>, click on a file in the file explorer and press the <strong>space</strong> key to preview. For <strong>Mac</strong>, this feature is in-built and for <strong>Ubuntu</strong>, you have to install a <a href="https://www.google.com/search?q=preview+file+in+ubuntu" target="_blank" rel="noopener noreferrer">plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p><strong>Dataset interfacing code</strong>: A dataset interfacing code is the <strong>ONLY CODE</strong> that should be put in a dataset folder. The interfacing code should be <strong>minimal</strong> and <strong>universally usable</strong>. The instructions file in the dataset folder should list every function that can be used directly by the user (not helper functions) with a short description, inputs and outputs for each function. Here is an <a href="/docs/m_series_json_data/#reading-data">example</a> of instructions for a script file used to interface with M Series JSON dataset. If you are the creator of a dataset, a short description of your dataset should also be included in the instructions file.</p></li> <li><p><strong>Modifying data</strong>: If a dataset needs to be modified for a particular project, please consider copying the data locally first, and then modifiying and working on the data. If this ins't possible for some reason and the modifed version has to be on the NAS, then we can create a folder with an appropriate name inside the dataset folder, like the  <strong>thumnails_for_facial_recognition/</strong> folder created under <strong>W:/data/facial/vggface_2/</strong> directory in the example provided in the <a href="#folder-structure">Folder structure</a> section above. This folder can be deleted when the project is completed. Examples of such modifications could be: extracting the dataset, creating tf records, creating croppped and aligned images, other forms of preprocessed data, etc.</p></li></ol> <h2 id="best-practices"><a href="#best-practices" aria-hidden="true" class="header-anchor">#</a> Best practices</h2> <ol><li><p><strong>Directories</strong>: Try to find an apt location for your files in the directory tree rather than creating a new location for them. We don't want our directory tree too wide. Although some level of heirarchy is good for organization, too much depth in your directory tree should also be avoided. The initial folder structure will be created, but users should keep these points in mind while adding files and folders to the structure.</p></li> <li><p><strong>Shortcuts</strong>: If you need to frequently use files that are deep in the directory tree, consider using shorcuts rather than creating copies.</p></li> <li><p><strong>Dates</strong>: If you need to include dates in folder or file names, use <strong>YYYY-MM-DD</strong> format and include it in the beginning of the file/folder name. This helps in sorting your files by date and also ensures consistency.</p></li> <li><p><strong>Series</strong>: If you plan to use serial numbers for a sequence of files, estimate how many files you are going to create and pad zeros to match the number of digits in each file. For example if you plan to create around 150 (3 digits) files start you series with <strong>001 and not just 1</strong>.</p></li> <li><p><strong>Orphans</strong>: Ideally, a folder should contain only folders, or only files. If a folder contains some folders and some files, the files are called <strong>orphans</strong>. Try to categories these files by moving them to an appropriate folder or create a folder named <strong>misc</strong> in that directory and move these files to the misc folder. <strong>Instructions</strong> or <strong>dataset interfacing code</strong> files can be orphans. Please use your best judgement to decide if a <strong>misc</strong> folder is required.</p></li> <li><p><strong>File as you go</strong>: Always keep your work updated on the shared drive even if nobody needs it at that moment. It's good to have all the code for a project at one place. It's like committing your code to a git repository. This code should be adequately commented (some quick but informative lines wherever needed).</p></li> <li><p><strong>Abbreviations</strong>: A folder/file name should not be so short that it is unintelligible or unnecessarily long either. Very common abbreviations should be used if abbreviations are necessary. For example, a folder containing some configuration files need not be named &quot;configuration_files&quot; or the other extreme &quot;cnf&quot;, but &quot;config&quot; on the other hand, is short and is a commom abbreviation that makes sense.</p></li></ol> <h2 id="implementation-phase-1"><a href="#implementation-phase-1" aria-hidden="true" class="header-anchor">#</a> Implementation phase 1</h2> <ol><li>Create the folder structure and move files to their new locations.</li> <li>Maintain a log mapping previous locations to new locations.</li> <li>Rename all files as per naming standard. (Except files that are part of a downloaded dataset)</li> <li>Maintain a log mapping old names to new names.</li> <li>Put instructions files in each folder.</li> <li>All new data added should comply to these standards.</li></ol> <h2 id="implementation-phase-2"><a href="#implementation-phase-2" aria-hidden="true" class="header-anchor">#</a> Implementation phase 2</h2> <ol><li>Move current projects to the new structure.</li> <li>Follow all filing rules.</li></ol> <h2 id="implementation-phase-3"><a href="#implementation-phase-3" aria-hidden="true" class="header-anchor">#</a> Implementation phase 3</h2> <ol><li>Move projects from the <strong>projects/</strong> folder to a GIT repository. (optional)</li> <li>Similarly, move the <strong>data/</strong> folder to Google Cloud Platform. Folder structure mutation and growth can be more controlled in a cloud enviroment with available access management tools.</li> <li>Automated consistency checks and notification to the owners in case of discrepencies. These checks will be conducted before pushing the data to the cloud as well.</li></ol> <h2 id="data-management-protocol"><a href="#data-management-protocol" aria-hidden="true" class="header-anchor">#</a> Data management protocol</h2> <p>This is the summary of the proposal.</p> <p><strong>Folder Structure</strong></p> <div class="language- extra-class"><pre class="language-text"><code>W:/
├── data/ 
│   └── &lt;data_category&gt;/
│       └── &lt;dataset_name&gt;/
│           └── &lt;files in your dataset&gt;
└── projects/
    └── &lt;project_name&gt;/
        └── &lt;contributor_name&gt;/
            └── &lt;contributor's code files&gt;
</code></pre></div><p><strong>Filing Rules</strong></p> <table><thead><tr><th>Rule</th> <th style="text-align:center">Description</th></tr></thead> <tbody><tr><td>Naming conventions</td> <td style="text-align:center">Small letters, numbers and underscores</td></tr> <tr><td>Instructions</td> <td style="text-align:center">Always create instructions file in folders you create</td></tr> <tr><td>Dataset Interfacing code</td> <td style="text-align:center">The only code that should reside in a dataset folder</td></tr> <tr><td>Modifying data</td> <td style="text-align:center">Create a folder with an apt name inside the dataset folder which is being modified so that it can be deleted when the data is not needed anymore.</td></tr></tbody></table> <p><strong>Best Practices</strong></p> <table><thead><tr><th>Practice</th> <th style="text-align:center">Description</th></tr></thead> <tbody><tr><td>Directories</td> <td style="text-align:center">Find a apt location for your files rather than creating one</td></tr> <tr><td>Shortcuts</td> <td style="text-align:center">Use shortcuts for frequently used files rather than creating copies</td></tr> <tr><td>Dates</td> <td style="text-align:center">Use <strong>YYYY-MM-DD</strong> format when including dates in filenames. Put date in the beginning of the files</td></tr> <tr><td>Series</td> <td style="text-align:center">Use zero padded numbers for series in filenames. Ex. use the filename, subject_001.jpg, not subject_1.jpg if there are &lt;999 but &gt;100 subjects.</td></tr> <tr><td>Orphans</td> <td style="text-align:center">Orphan files should be classified into folders or create a <strong>misc/</strong> folder for the orphan files if there are too many of them.</td></tr> <tr><td>File as you go</td> <td style="text-align:center">Always keep your shared files updated.</td></tr> <tr><td>Abbreviations</td> <td style="text-align:center">Use common well know short forms. Neither too short or long.</td></tr></tbody></table> <p><strong>Things to remember</strong></p> <ol><li>Too much documentation is unrealistic and too less is not helpful. We want to spend little time now to save a lot of time later.</li> <li>We want our projects and data to be usable/understandable by others, now and in the future.</li></ol></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/m_series_json_data/" class="prev">
          M series JSON data
        </a></span> <span class="next"><a href="/docs/info/nas_cleanup_proposal_draft_2/">
          Data Management Protocol and NAS cleanup- Proposal- Draft 2
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.12f85102.js" defer></script><script src="/assets/js/7.64d93997.js" defer></script>
  </body>
</html>
